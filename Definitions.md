# Access Platform Definitions

The Canadiana Access Platform serves all of the digital heritage content that CRKN makes available to the public. The Canadiana Platform team defines a set of resource types, with associated properties, that encapsulates all of the information required to define and use this content. This data model is heavily inspired by the model defined by [IIIF Presentation API](https://iiif.io/api/presentation/3.0/), and its design allows for the generation of IIIF resources for our content.

If you have any questions or comments about this document, [create an issue in this repository](https://github.com/crkn-rcdr/Access-Platform/issues/new), or contact [Sascha](https://github.com/SaschaAdler).

## Resources

### Collection

A grouping of [Manifests](#Manifest) and Collections. Collections can be used to define the content that can be found on a [Portal](#Portal), to group content by theme or project, and to group related Manifests in the sequence that they were published. Collections and their listed Members define a hierarchy that we often refer to as the "collection tree"; when a user searches for content within a Collection, anything that [descends](#Descent) from it will be found.

Portal Collections can be served to the public at Canadiana subdomains, e.g. [`heritage.canadiana.ca`](https://heritage.canadiana.ca/). Everything discoverable on one of these sites [descends](#Descent) from the Collection.

Required properties: [id](#id), [slug](#slug), [label](#label), [members](#members), [ordered](#ordered)

Optional properties: [public](#public), [dmdType](#dmdType)

### Manifest

A Manifest represents any sort of object with a series of pages; a book, a magazine issue, a reel of microfiche, a photograph and its reverse. Manifests have a list of [canvases](#canvases) corresponding to the pages of the object.

Required properties: [id](#id), [slug](#slug), [label](#label), [type](#type), [canvases](#canvases)

Optional properties: [public](#public), [dmdType](#dmdType), [ocrPdf](#ocrPdf)

### Canvas

A Canvas is the virtual representation of the space taken up by a page of a [Manifest](#Manifest). The image of the page's contents, as well as any other annotations for that page, are drawn on this virtual Canvas. [Read more about this concept in the IIIF documentation.](https://iiif.io/api/presentation/3.0/#overview-canvas) Canvases can belong to more than one Manifest. A Canvas does not have a [slug](#slug) and can only be referenced by Manifests that it belongs to; if it does not belong to any Manifests it is effectively "orphaned" and subject to deletion.

Required properties: [id](#id), [content](#content), [source](#source), [ocrPdf](#ocrPdf), [ocrType](#ocrType)

Optional properties: [takedown](#takedown)

## Resource Properties

### id

An opaque identifier used for internal reference. ids are designed to be resolvable by third-party services, and as such they all take the form `69429/$NOID`, where `69429` is CRKN's [Name Assigning Authority Number](https://n2t.net/e/pub/naan_registry.txt) and `$NOID` is a unique identifier generated by our [noid service](https://github.com/crkn-rcdr/noid).

Describes: [Collection](#Collection), [Manifest](#Manifest), [Canvas](#Canvas)

### slug

The human-readable identifier used to refer to Collections and Manifests. slugs are selected by CRKN staff, and are unique across Collections and Manifests. slugs can be any string where each character is one of the following: any kind of letter (e.g. `s`, `É`, `π`, `好`), the digits `0-9`, `_` (underscore), `-` (hyphen/minus sign), or `.` (period). When importing content from our preservation platform into our access platform, the resulting Manifest is assigned the preservation AIP id as its slug. Slugs have a maximum length of 40 characters.

Describes: [Collection](#Collection), [Manifest](#Manifest)

### label

The human-readable name or title of the Collection, Manifest, or Canvas. Labels are used in the primary heading for their corresponding object, in search results and while viewing the object. Canvases do not have inherent labels, but each Canvas of a Manifest has a label in that Manifest's context; for example, "Image 225" of a reel might also be "p. 3" of a letter.

Labels can be specified in multiple languages, and tools for creating and editing them can allow, for example, bilingual French and English labels. When imported, labels have a language of `none` by default. Label languages are referenced by their [IETF BCP 47 language tag](https://www.w3.org/International/articles/language-tags/). See also the [IIIF Presentation API discussion on language property values](https://iiif.io/api/presentation/3.0/#44-language-of-property-values); note that while their specification allows for multiple values for a given language, ours only allows for one.

Describes: [Collection](#Collection), [Manifest](#Manifest), [members of a Collection](#Membership) (eventually), [canvases of a Manifest](#canvases)

### public

The date the Collection or Manifest was published. Published Collections and Manifests are discoverable by the public if they [descend](#Descent) from a Portal Collection. Staff can publish and unpublish Collections and Manifests whenever they need; unpublished things can be published again when desired.

Describes: [Collection](#Collection), [Manifest](#Manifest)

### dmdType

The type of [Descriptive Metadata record](#Descriptive-Metadata) that describes this Collection or Manifest. Can be used to retrieve the record from Access platform storage.

Describes: [Collection](#Collection), [Manifest](#Manifest)

### members

The list of [members](#Membership) of a Collection. This list can have Collections and [Manifests](#Manifest) added to it, removed from it, and in the case of [ordered](#ordered) Collections, the list can be re-ordered. Members and [descendents](#Descent) of a Collection are discoverable when viewing or searching within the Collection.

Describes: [Collection](#Collection)

### ordered

A true-or-false value that describes whether or not the order of the [members](#members) list of a Collection has meaning. This value determines whether or not the Members list can be re-ordered, and affects how the Collection appears to users.

Describes: [Collection](#Collection)

### type

A Manifest can have one of two values for its type: `multicanvas` and `pdf`. `multicanvas` Manifests are those described in this document and are the only ones that staff can import from preservation, create, and update; `pdf` Manifests exist to support the maintenance of the born-digital PDF content in the Numeris portal.

Describes: [Manifest](#Manifest)

### canvases

The ordered list of [Canvases](#Canvas) that belong to a Manifest.

Describes: [Manifest](#Manifest)

### content

Information about the image content of this Canvas. Can be used to generate the URL for retrieving the Canvas's image from our IIIF Image service.

Describes: [Canvas](#Canvas)

### source

Information about the preservation origin of this Canvas's content.

Describes: [Canvas](#Canvas)

### takedown

The reason why this Canvas was taken down from public view; i.e. the rights that were infringed upon. Can either be `copyright` or `privacy`. Taking down a Canvas instead of just removing it from a [Manifest's](#Manifest) [canvases](#canvases) list will preserve the Manifest's page order in case a page has been bookmarked or cited by a patron.

Describes: [Canvas](#Canvas)

### ocrPdf

Information for finding and using the OCR-generated single-page PDF for a Canvas, and multi-page PDF for a Manifest. Used to generate public links to these files when they're available.

Describes: [Manifest](#Manifest), [Canvas](#Canvas)

### ocrType

The XML schema used to describe the OCR data associated with this Canvas. Can either be `alto` or `txtmap`.

Describes: [Canvas](#Canvas)

## Other concepts

### Descriptive Metadata

Beyond the basic and structural metadata defined in this data model, [Collections](#Collection) and [Manifests](#Manifest) can additionally be described by Descriptive Metadata records. The access platform accepts the following types of records:

- `DC` (Dublin Core), in CSV format, for Collections and Manifests
- `MARC`, in XML format, for Collections and Manifests
- `IssueInfo`, in CSV format, for Manifests (deprecated)

Collections and Manifests can only be described by one Descriptive Metadata record; any update to a record overwrites the previous one.

### Membership

A [Manifest](#Manifest) or [Collection](#Collection) is a member of a Collection if it can be found in its [members](#members) list.

In a future update to the access platform, members will be able to have [labels](#label) in this context that are different from their own labels. This will allow, for example, a Manifest with the label `The Dominion almanac for 1871` to appear as `1871` when viewing every `Dominion almanac`.

### Descent

A [Manifest](#Manifest) or [Collection](#Collection) descends from a Collection if it is either the [member](#Membership) of it or of a Collection that descends from it.

For example, [Vol. I, No. 8 of the Victoria Home Journal](https://www.canadiana.ca/view/oocihm.8_06942_6) is a member of the [Victoria Home Journal](https://www.canadiana.ca/view/oocihm.8_06942) Collection, and it is a descendent of the Victoria Home Journal, Periodicals, Serials, and Canadiana Collections.

## Updates to existing Canadiana concepts

- Monograph: Represented by a [Manifest](#Manifest).
- Series: Represented by an [Ordered](#ordered) [Collection](#Collection). A series' issues will comprise its [members](#members) list.
- Issue: Represented by a [Manifest](#Manifest). Issues will no longer have to keep track of their position in their parent's list of issues, and can in fact be [members](#Member) of multiple [Collections](#Collection).
- Thematic collection: Represented by an [Unordered](#ordered) [Collection](#Collection). Instead of applying collection tags to a list of monographs and series, staff will provide a list of Collection and [Manifest](#Manifest) [slugs](#slug) to add them as [members](#members) of an unordered Collection.
- SIP and Metadata updates: Staff will no longer need to re-ingest metadata records or the entire sequence of a document's images when correcting content and metadata. Metadata updates take place entirely in the access platform, and corrected images can be ingested on their own.
