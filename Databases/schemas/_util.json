{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://github.com/crkn-rcdr/Access-Platform/blob/master/Databases/schemas/_util.json",
  "title": "Utility definitions",
  "description": "",
  "type": "object",
  "definitions": {
    "_rev": {
      "description": "CouchDB revision number",
      "type": "string"
    },
    "iso8601datetime": {
      "description": "ISO 8601 datetime, in UTC",
      "type": "string",
      "pattern": "^[0-9]{4}-(?:1[0-2]|0[1-9])-(?:3[01]|[12][0-9]|0[1-9])T(?:2[0-3]|[01][0-9])-(?:[0-5][0-9]):(?:60|[0-5][0-9])Z$"
    },
    "mime": {
      "description": "A MIME type",
      "type": "string",
      "pattern": "^w+/w+$"
    },
    "legacyRepoURL": {
      "description": "Swift URL of a file in the legacy preservation repository",
      "type": "string",
      "pattern": "^https://swift.canadiana.ca/v1/AUTH_crkn/repository/.+/.+"
    },
    "collections": {
      "description": "Collection ancestry for this collection",
      "type": "array",
      "items": {
        "description": "Collection ancestry path, from direct antecedent to root collection",
        "type": "array",
        "items": { "$ref": "#/definitions/collectionNoid" }
      }
    },
    "collectionNoid": {
      "description": "Collection NOID",
      "type": "string",
      "pattern": "^69429\\/s[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "manifestNoid": {
      "description": "Manifest NOID",
      "type": "string",
      "pattern": "^69429\\/m[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "canvasNoid": {
      "description": "Canvas NOID",
      "type": "string",
      "pattern": "^69429\\/c[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "update": {
      "type": "object",
      "properties": {
        "requestDate": {
          "$ref": "#/definitions/iso8601datetime"
        },
        "processDate": {
          "$ref": "#/definitions/iso8601datetime"
        },
        "succeeded": { "type": "boolean" },
        "message": { "type": "string" }
      },
      "required": ["requestDate"]
    },
    "cmr": {
      "description": "A descriptive metadata record",
      "type": "object",
      "properties": {
        "depositor": {},
        "pubmin": {},
        "pubmax": {},
        "lang": {},
        "identifier": {},
        "ti": {},
        "au": {},
        "pu": {},
        "su": {},
        "no": {},
        "no_rights": {},
        "no_source": {},
        "ab": {},
        "parlLabel": {},
        "parlChamber": {},
        "parlSession": {},
        "parlType": {},
        "parlNode": {},
        "parlReportTitle": {},
        "parlCallNumber": {},
        "parlPrimeMinisters": {}
      }
    }
  }
}
