{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://github.com/crkn-rcdr/Access-Platform/blob/master/Databases/schemas/_util.json",
  "title": "Utility definitions",
  "description": "",
  "type": "object",
  "definitions": {
    "slug": {
      "description": "User-friendly string for identifying objects. A slug is required for collections, but optional for manifests (superseded manifests won't have them).",
      "type": "string"
    },
    "aliasedSlugs": {
      "description": "Slugs aliased to this object's slug. These slugs will resolve to this object, and a view URL for these slugs will redirect to the 'canonical' one.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/slug"
      }
    },
    "mime": {
      "description": "A MIME type",
      "type": "string",
      "pattern": "^\\w+/\\w+$"
    },
    "legacyRepoPath": {
      "description": "Path to a file in the legacy preservation repository. Will need to be prepended with a Swift account URL",
      "type": "string"
    },
    "collections": {
      "description": "Collection ancestry for this collection",
      "type": "array",
      "items": {
        "description": "Collection ancestry path, from direct antecedent to root collection",
        "type": "array",
        "items": { "$ref": "#/definitions/collectionNoid" }
      }
    },
    "collectionNoid": {
      "description": "Collection NOID",
      "type": "string",
      "pattern": "^69429\\/s[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "manifestNoid": {
      "description": "Manifest NOID",
      "type": "string",
      "pattern": "^69429\\/m[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "canvasNoid": {
      "description": "Canvas NOID",
      "type": "string",
      "pattern": "^69429\\/c[0-9]+[0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]{2}[0-9][0-9bcdfghjkmnpqrstvwxz]$"
    },
    "update": {
      "type": "object",
      "properties": {
        "requestDate": {
          "type": "string",
          "format": "date-time"
        },
        "processDate": {
          "type": "string",
          "format": "date-time"
        },
        "succeeded": { "type": "boolean" },
        "message": { "type": "string" }
      },
      "required": ["requestDate"]
    },
    "iiifTextValue": {
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  }
}
